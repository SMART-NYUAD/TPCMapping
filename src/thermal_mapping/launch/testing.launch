<?xml version="1.0"?>
<launch>
	<arg name="default_xacro" default="summit_xl_std.urdf.xacro"/>
    <arg name="omni_drive" default="false"/>
    <arg if="$(arg omni_drive)" name="ros_planar_move_plugin" value="true"/>
	<arg unless="$(arg omni_drive)" name="ros_planar_move_plugin" default="true"/>
    <arg name="gazebo_world" default="$(find summit_xl_gazebo)/worlds/summit_xl_office.world"/>
    <arg name="ros_planar_move_plugin_force_based" default="false"/>

    <arg name="ekf_localization_robot_a" default="true"/>
	<arg name="amcl_and_mapserver_a" default="true"/>
	<arg name="launch_pad_a" default="true"/>

	<!-- arguments robot a -->
	<arg name="id_robot_a" default="robot"/>
	<arg name="launch_robot_a" default="true"/>
	<arg name="xacro_robot_a" default="$(arg default_xacro)"/>

    <remap from="/robot/front_rgbd_camera/rgb/image_raw" to="/camera/color/image_raw"/>
    <remap from="/robot/ouster/points" to="/velodyne_points"/>
    <!-- <include file="$(find summit_xl_sim_bringup)/launch/summit_xl_complete.launch"/> -->
    <include file="$(find summit_xl_gazebo)/launch/summit_xl_gazebo.launch">
        <arg name="gazebo_world" default="$(find summit_xl_gazebo)/worlds/demo.world"/>
        <!-- general args -->
        <arg name="omni_drive" value="$(arg omni_drive)"/>
		<arg name="default_xacro" value="$(arg default_xacro)"/>
        <arg name="ros_planar_move_plugin" value="$(arg ros_planar_move_plugin)"/>
		<arg name="ros_planar_move_plugin_force_based" value="$(arg ros_planar_move_plugin_force_based)" />
		<!-- robot_a args -->
		<arg name="id_robot_a" value="$(arg id_robot_a)"/>
		<arg name="launch_robot_a" value="$(arg launch_robot_a)"/>
		<arg name="xacro_robot_a" value="$(arg xacro_robot_a)"/>

        <arg name="ekf_localization_robot_a" value="$(arg ekf_localization_robot_a)"/>
        <arg name="amcl_and_mapserver_a" value="$(arg amcl_and_mapserver_a)"/>
        <arg name="launch_pad_a" value="$(arg launch_pad_a)"/>
    </include>

    <include file="$(find hdl_graph_slam)/launch/hdl_graph_slam.launch"/>

    <include file="$(find lidar_camera_fusion)/launch/vlp16OnImg.launch"/>

</launch>